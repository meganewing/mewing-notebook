<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Megan Ewing">
<meta name="dcterms.date" content="2025-01-22">

<title>January – mewing-notebook</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">mewing-notebook</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">January</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">goals, daily</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Megan Ewing </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">January 22, 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#jan.-1" id="toc-jan.-1" class="nav-link active" data-scroll-target="#jan.-1">Jan.&nbsp;1</a></li>
  <li><a href="#jan.-2" id="toc-jan.-2" class="nav-link" data-scroll-target="#jan.-2">Jan.&nbsp;2</a></li>
  <li><a href="#jan.-3-5" id="toc-jan.-3-5" class="nav-link" data-scroll-target="#jan.-3-5">Jan.&nbsp;3-5</a></li>
  <li><a href="#jan-6." id="toc-jan-6." class="nav-link" data-scroll-target="#jan-6.">Jan 6.</a></li>
  <li><a href="#jan-7." id="toc-jan-7." class="nav-link" data-scroll-target="#jan-7.">Jan 7.</a></li>
  <li><a href="#past-two-weeks-from-123-meeting-starts-here" id="toc-past-two-weeks-from-123-meeting-starts-here" class="nav-link" data-scroll-target="#past-two-weeks-from-123-meeting-starts-here">Past Two Weeks (from 1/23 meeting) Starts Here</a>
  <ul class="collapse">
  <li><a href="#jan-8." id="toc-jan-8." class="nav-link" data-scroll-target="#jan-8.">Jan 8.</a></li>
  <li><a href="#jan-9." id="toc-jan-9." class="nav-link" data-scroll-target="#jan-9.">Jan 9.</a></li>
  <li><a href="#jan.-10" id="toc-jan.-10" class="nav-link" data-scroll-target="#jan.-10">Jan.&nbsp;10</a></li>
  <li><a href="#jan.-11-12" id="toc-jan.-11-12" class="nav-link" data-scroll-target="#jan.-11-12">Jan.&nbsp;11-12</a></li>
  <li><a href="#jan.-13" id="toc-jan.-13" class="nav-link" data-scroll-target="#jan.-13">Jan.&nbsp;13</a></li>
  <li><a href="#jan.-14" id="toc-jan.-14" class="nav-link" data-scroll-target="#jan.-14">Jan.&nbsp;14</a></li>
  <li><a href="#jan.-15" id="toc-jan.-15" class="nav-link" data-scroll-target="#jan.-15">Jan.&nbsp;15</a></li>
  <li><a href="#jan.-16" id="toc-jan.-16" class="nav-link" data-scroll-target="#jan.-16">Jan.&nbsp;16</a></li>
  <li><a href="#jan.-17" id="toc-jan.-17" class="nav-link" data-scroll-target="#jan.-17">Jan.&nbsp;17</a></li>
  <li><a href="#jan.-18-19" id="toc-jan.-18-19" class="nav-link" data-scroll-target="#jan.-18-19">Jan.&nbsp;18-19</a></li>
  <li><a href="#jan.-20" id="toc-jan.-20" class="nav-link" data-scroll-target="#jan.-20">Jan.&nbsp;20</a></li>
  <li><a href="#jan.-21" id="toc-jan.-21" class="nav-link" data-scroll-target="#jan.-21">Jan.&nbsp;21</a></li>
  </ul></li>
  <li><a href="#next-two-weeks-targets." id="toc-next-two-weeks-targets." class="nav-link" data-scroll-target="#next-two-weeks-targets.">Next Two Weeks’ Targets….</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<p>It’s January 22nd. Clearly, “posting in my notebook more” is not a resolution I’m great at following. I am thankful for Google calendar, my notes app, and BeReal and their ability to let me see what I was doing on any given day, so with that, here’s what I’ve been up to since our last meeting:</p>
<section id="jan.-1" class="level3">
<h3 class="anchored" data-anchor-id="jan.-1">Jan.&nbsp;1</h3>
<p>Happy New Year :) Nice day up at Crystal Mountain.</p>
</section>
<section id="jan.-2" class="level3">
<h3 class="anchored" data-anchor-id="jan.-2">Jan.&nbsp;2</h3>
<p>Canvas pages for classes got posted. Reviewing those to prep for class. Coordinating some logistics stuff with Jose and Celeste for 270.</p>
<p>Working on WAS travel app.</p>
</section>
<section id="jan.-3-5" class="level3">
<h3 class="anchored" data-anchor-id="jan.-3-5">Jan.&nbsp;3-5</h3>
<p>My mom’s 60th birthday! I’m out of town.</p>
</section>
<section id="jan-6." class="level3">
<h3 class="anchored" data-anchor-id="jan-6.">Jan 6.</h3>
<p>First day of 270, went to the lecture to meet the students.</p>
<p>Lab meeting.</p>
<p>Wrapped up WAS travel app</p>
</section>
<section id="jan-7." class="level3">
<h3 class="anchored" data-anchor-id="jan-7.">Jan 7.</h3>
<p>Readings for snow hydro class, first day of lecture</p>
<p>270 meeting with jose and celeste</p>
<p>GIS class</p>
<p>Homework</p>
</section>
<section id="past-two-weeks-from-123-meeting-starts-here" class="level2">
<h2 class="anchored" data-anchor-id="past-two-weeks-from-123-meeting-starts-here">Past Two Weeks (from 1/23 meeting) Starts Here</h2>
<section id="jan-8." class="level3">
<h3 class="anchored" data-anchor-id="jan-8.">Jan 8.</h3>
<p>Office hours, homework</p>
</section>
<section id="jan-9." class="level3">
<h3 class="anchored" data-anchor-id="jan-9.">Jan 9.</h3>
<p>Snow hydro class</p>
<p>Read: <a href="https://www.sciencedirect.com/science/article/pii/S0025326X24009470?via%3Dihub"><em>Gonadal rematuration of sex-specific reproductiv impairment in Manila clams under ocean acidificataion</em></a></p>
<p>(which then sparked some questions by Mac to be answered by the next paper re: measuring sex steroids in bivalves)</p>
<p>Read: <a href="https://www.sciencedirect.com/science/article/pii/S0044848607005236?via%3Dihub"><em>Possible roles of sex steroids in the control of reproduction in bivalves</em></a></p>
</section>
<section id="jan.-10" class="level3">
<h3 class="anchored" data-anchor-id="jan.-10">Jan.&nbsp;10</h3>
<p>Meeting with Mac to go over results. Here’s the notes from that:</p>
<blockquote class="blockquote">
<p>- Methods look good for thesis. Will need to get to 1 paragraph for ms</p>
<p>Intro : summarize larken paper findings, “we found differences in larval between primed and unprimed differences. This begs the question of what is happening in these eggs that leads to these differences. I took the data from these eggs and looked at RNA seq analysis.”</p>
<ul>
<li><p>why is knowing the mechanism important</p></li>
<li><p>figures (larval growth and survivorship, egg size)</p></li>
<li><p>what parental priming is and why it matters.</p></li>
<li><p>biological marker. Genes fro successful priming</p></li>
</ul>
<p>For results: look for protein domains</p>
<p>- Results missing</p>
<ul>
<li><p>Log2fold change — give biologically meaningful definition (more expressed in control, less expressed, etc)</p></li>
<li><p>How many annotated, how many go terms, enrichment results (or lack thereof)</p></li>
<li><p>rRNA — eating up the read counts</p></li>
<li><p>Incl. distribution of RNA type (stacked bar plot)</p></li>
<li><p>Look at p value for the rRNA between treatment</p></li>
<li><p>Add in mito, rRNA, and protein-coding (by proportion)</p></li>
<li><p>Move enrichment info to results (last sentence of methods.</p></li>
</ul>
<p>For results: look for protein domains.</p>
<p>use pFam database to determine protein domains for uncharacterized genes using amino acid sequences provided in annotation file</p>
<p>From main manuscript</p>
<p>- Fig 3b</p>
<p>- Fig 5</p>
<p>Mention how many of the RNA egg samples we had egg size data for.</p>
<p>Look for papers where there aren’t very many differentially expressed genes — how do they report their results.</p>
<p>If not transcriptional differences, maybe epigenetic mechs explain phenotype</p>
</blockquote>
</section>
<section id="jan.-11-12" class="level3">
<h3 class="anchored" data-anchor-id="jan.-11-12">Jan.&nbsp;11-12</h3>
<p>Snowboard and work at snowboard shop.</p>
<p>Learned how to play the card game “Golf” aka “Tamoul”</p>
</section>
<section id="jan.-13" class="level3">
<h3 class="anchored" data-anchor-id="jan.-13">Jan.&nbsp;13</h3>
<p>Review 270 lab 1 materials</p>
</section>
<section id="jan.-14" class="level3">
<h3 class="anchored" data-anchor-id="jan.-14">Jan.&nbsp;14</h3>
<p>snow hydro reading</p>
<p>snow hydro lecture</p>
<p>snow hydro homework…</p>
</section>
<section id="jan.-15" class="level3">
<h3 class="anchored" data-anchor-id="jan.-15">Jan.&nbsp;15</h3>
<p>finish snow hydro homework</p>
<p>Office hours</p>
<p>First 270 lab</p>
</section>
<section id="jan.-16" class="level3">
<h3 class="anchored" data-anchor-id="jan.-16">Jan.&nbsp;16</h3>
<p>Snow hydro reading</p>
<p>snow hydro lecture</p>
<p>lab meeting</p>
<p>read: <a href="https://link.springer.com/protocol/10.1007/978-1-4939-9074-0_7"><em>modern phylogenomics: building phylogenetic trees using the multi species coalescent model</em></a></p>
</section>
<section id="jan.-17" class="level3">
<h3 class="anchored" data-anchor-id="jan.-17">Jan.&nbsp;17</h3>
<p>weekly TA meeting</p>
<p>270 lab</p>
</section>
<section id="jan.-18-19" class="level3">
<h3 class="anchored" data-anchor-id="jan.-18-19">Jan.&nbsp;18-19</h3>
<p>Chores and work at the shop</p>
<p>read (well.. skimmed and took relevant information to prep for meeting with luke):</p>
<ul>
<li><p><a href="https://www.frontiersin.org/journals/bioinformatics/articles/10.3389/fbinf.2021.803176/full"><em>HSDFinder: A BLAST-Based Strategy for Identifying Highly Similar Duplicated Genes in Eukaryotic Genomes</em></a></p></li>
<li><p><a href="https://www.pnas.org/doi/full/10.1073/pnas.1412770112"><em>Phylogenomics with paralogs</em></a></p></li>
<li><p><a href="https://academic.oup.com/bioinformatics/article/21/11/2596/294663"><em>Tree pattern matching in phylogenetic trees: automatic search for orthologs or paralogs in homologous gene sequence databases</em></a></p></li>
</ul>
</section>
<section id="jan.-20" class="level3">
<h3 class="anchored" data-anchor-id="jan.-20">Jan.&nbsp;20</h3>
<p>Met with Luke to discuss methods for ch.&nbsp;1 and what I’m going to do with my gene list of gametogenesis genes once I have it, in order to have information that is meaningful.</p>
<p>Theres this thing called a robinson-foulds tree distance which I can use to identify outlier genes against a statistically significant threshold. This will leave me with a list of genes that aren’t well conserved ie. genes that might have duplication (like dmrt in some bivalves), genes that have been lost or indicate convergent evolution, genes that have been actively selected for/against.</p>
<p>So I end up with a gene list with 20,000+ genes (or even 200), I can find which genes are meaningful evolutionary and can select those to map onto a known phylogeny of bivalves (like the figures in <a href="https://academic.oup.com/gbe/article/15/10/evad181/7321078">Nicolini et al.&nbsp;2023</a>)</p>
<p><img src="images/Fish Lab Meeting 1_20_2025, 10_35_17 AM Page-1-[1737398778146].png" class="img-fluid"></p>
<p>Going to use these to redraft / revise my methods in my proposal and have set a date to revisit with luke by Feb.&nbsp;14</p>
<p>Also graded some 270 assignments</p>
</section>
<section id="jan.-21" class="level3">
<h3 class="anchored" data-anchor-id="jan.-21">Jan.&nbsp;21</h3>
<p>I dropped snow hydro :D</p>
<p>Was taking too much of my time for a 3 credit class, and the topics for the class once all the material was posted seemed to be more of a physics of snowpacks rather than snows influence on normal hydrology topics. Juice was not worth the squeeze…</p>
<p>Met with celeste to prep some of the 270 materials for the week and learn how to use the autoclave</p>
<p>filled out travel pre-authorization request for aquaculture 2025 on treq</p>
<p>GIS class</p>
</section>
</section>
<section id="next-two-weeks-targets." class="level2">
<h2 class="anchored" data-anchor-id="next-two-weeks-targets.">Next Two Weeks’ Targets….</h2>
<p>Now that I’ll have more time since no snow hydro lecture readings or homework, i’ll have some time to get back to my own work :D</p>
<p>Jan.&nbsp;24:</p>
<ul>
<li><p>270 lab and TA meeting.</p></li>
<li><p>grade 270 stuff</p></li>
</ul>
<p>Jan.&nbsp;27-31:</p>
<ul>
<li><p>Address action items from meeting with Mac</p>
<ul>
<li><p>protein domains – [pFAM database for uncharacterized genes (n=16)</p></li>
<li><p>add in meaningful definition of log2fold change in results</p></li>
<li><p>indicate how many annotated, how many go terms, and (lack of) enrichment in results</p></li>
<li><p>include distribution of RNA type (stacked bar plot)</p></li>
<li><p>look at pvalue for rRNA between treatments</p>
<ul>
<li>will need to re run chi square for this</li>
</ul></li>
<li><p>add in mito, rRNA, and protein coding (similar to stacked bar plot, but pie chart)</p></li>
<li><p>move enrichment info to results instead pof methods</p></li>
<li><p>add in info on how mnay RNA egg samples we had egg size data for (will add in info about egg samples we did have to intro when summarizing / referencing Larken paper findings)</p></li>
</ul></li>
<li><p>TA stuff</p></li>
</ul>
<p>Feb 3-7:</p>
<ul>
<li><p>Now that rphil methods results are updated, will draft intro and discussion. some talking points:</p>
<ul>
<li><p>summarize larken paper findings, “we found differences in larval between primed and unprimed differences. This begs the question of what is happening in these eggs that leads to these differences. I took the data from these eggs and looked at RNA seq analysis.”</p>
<pre><code>- why is knowing the mechanism important

- figures (larval growth and survivorship, egg size)

- what parental priming is and why it matters.

- biological marker. Genes fro successful priming</code></pre></li>
<li><p>dicussion: parental priming, OA on bivalves, offspring health, etc. also, if not transcriptional differences explaining the phenotype found in Larken MS, perhaps epi mechanisms?</p></li>
</ul></li>
<li><p>TA stuff</p></li>
</ul>
<p>Feb 10-14 (slight preview):</p>
<ul>
<li>Switching gears from rphil back to proposal – will be focusing this week on the phylogenomics stuff discussed with Luke to get an updated methods to discuss with him for our 2/14 meeting.</li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>